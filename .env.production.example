# Discord Publish Bot - Production Environment Configuration Template
# Copy this file to .env.production and fill in the actual values
# NEVER commit actual production values to version control

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=production
LOG_LEVEL=INFO

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_TITLE="Discord Publish Bot API"
API_VERSION="2.0.0"

# =============================================================================
# DISCORD BOT CONFIGURATION
# =============================================================================
# Get these from Discord Developer Portal: https://discord.com/developers/applications
DISCORD_BOT_TOKEN=your_discord_bot_token_here
DISCORD_APPLICATION_ID=your_discord_application_id_here
DISCORD_PUBLIC_KEY=your_discord_public_key_here
DISCORD_USER_ID=your_discord_user_id_here

# =============================================================================
# GITHUB INTEGRATION CONFIGURATION
# =============================================================================
# Create a personal access token with repo permissions: https://github.com/settings/tokens
GITHUB_TOKEN=your_github_personal_access_token_here
GITHUB_REPO=username/repository-name
GITHUB_BASE_BRANCH=main

# =============================================================================
# AZURE CONTAINER APPS CONFIGURATION
# =============================================================================
# These are managed by Azure Container Apps - no need to set manually
# AZURE_CLIENT_ID=system-assigned-managed-identity
# AZURE_TENANT_ID=managed-by-azure
# AZURE_SUBSCRIPTION_ID=managed-by-azure

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
# Application Insights connection string (if using)
# APPLICATIONINSIGHTS_CONNECTION_STRING=your_app_insights_connection_string

# Log Analytics workspace (configured through Azure Container Apps)
# AZURE_LOG_ANALYTICS_WORKSPACE_ID=managed-by-azure

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Generate a secure 32+ character API key for authentication
API_KEY=your_secure_api_key_here

# Enable security features in production
ENABLE_CORS=true
CORS_ORIGINS=["https://yourdomain.com"]
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Optimize for Azure Container Apps
MAX_WORKERS=1
WORKER_TIMEOUT=30
KEEP_ALIVE=2
MAX_CONNECTIONS=1000
MAX_CONNECTIONS_PER_CHILD=0

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable production features
ENABLE_HEALTH_CHECKS=true
ENABLE_METRICS=true
ENABLE_DETAILED_LOGGING=false

# =============================================================================
# CONTENT CONFIGURATION
# =============================================================================
# Site-specific content configuration
CONTENT_BASE_PATH=_src/notes
SITE_URL=https://yourdomain.com
AUTHOR_NAME="Your Name"
AUTHOR_URL=https://yourdomain.com

# =============================================================================
# AZURE STORAGE CONFIGURATION
# =============================================================================
# Azure Storage Account for permanent media hosting
AZURE_STORAGE_ACCOUNT_NAME=your_storage_account_name
AZURE_STORAGE_CONTAINER_NAME=discord-media
AZURE_STORAGE_CDN_ENDPOINT=https://your-cdn-endpoint.azureedge.net

# Media type folder organization (customize as needed)
AZURE_STORAGE_IMAGES_FOLDER=images
AZURE_STORAGE_VIDEOS_FOLDER=videos
AZURE_STORAGE_AUDIO_FOLDER=audio
AZURE_STORAGE_DOCUMENTS_FOLDER=documents
AZURE_STORAGE_OTHER_FOLDER=other

# Storage feature flags
ENABLE_AZURE_STORAGE=true
AZURE_STORAGE_USE_SAS_TOKENS=true  # Set to false for public container access
AZURE_STORAGE_USE_RELATIVE_PATHS=true  # Use relative paths for domain-mapped containers
AZURE_STORAGE_SAS_EXPIRY_HOURS=8760  # 1 year for permanent URLs

# =============================================================================
# AZURE KEY VAULT INTEGRATION (Optional)
# =============================================================================
# Use Azure Key Vault for secrets management
# AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/
# Use managed identity to access Key Vault (recommended)
# AZURE_USE_MANAGED_IDENTITY=true

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================
# GitHub repository for backup operations
BACKUP_REPO=username/discord-bot-backup
BACKUP_ENABLED=false

# =============================================================================
# DEVELOPMENT OVERRIDES (Remove in production)
# =============================================================================
# These should not be set in production
# DISABLE_AUTH=false
# ENABLE_DEBUG_MODE=false
# MOCK_GITHUB_API=false
